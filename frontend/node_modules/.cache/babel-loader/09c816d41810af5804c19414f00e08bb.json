{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJECTS\\\\ltbt-podcast\\\\frontend\\\\src\\\\components\\\\ProductPage.jsx\",\n    _s = $RefreshSig$();\n\nimport \"../styles/Product.scss\";\nimport { productData } from \"../data/data\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\nimport { detailsProduct } from \"../actions/productActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"FETCH_REQUEST\":\n      return { ...state,\n        loading: true\n      };\n\n    case \"FETCH_SUCCESS\":\n      return { ...state,\n        products: action.payload,\n        loading: false\n      };\n\n    case \"FETCH_FAIL\":\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nfunction ProductPage(props) {\n  _s();\n\n  const params = useParams();\n  const {\n    slug\n  } = params;\n  const [{\n    loading,\n    error,\n    product\n  }, dispatch] = useReducer(reducer, {\n    products: [],\n    loading: true,\n    error: \"\"\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({\n        type: \"FETCH_REQUEST\"\n      });\n\n      try {\n        const result = await axios.get(`/api/store/slug/${slug}`);\n        dispatch({\n          type: \"FETCH_SUCCESS\",\n          payload: result.data\n        });\n      } catch (err) {\n        dispatch({\n          type: \"FETCH_FAIL\",\n          payload: err.message\n        });\n      }\n    };\n\n    fetchData();\n  }, [slug]);\n  console.log(params);\n  return loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: product.name\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductPage, \"qJiLgbkpUlitXliJRijwkTCHYXo=\", false, function () {\n  return [useParams];\n});\n\n_c = ProductPage;\nexport default ProductPage; //use this hook to get product id\n// const { id } = useParams();\n//if product id matches id from useParams hook, return product info\n// const product = productData.products.find(\n//   (productId) => productId.id === Number(id)\n// );\n//OLD CODE\n//   console.log(\"-----\", props.match.params.id);\n//   const productDetails = useSelector((state) => state.productDetails);\n//   const { product, loading, error } = productDetails;\n//   const dispatch = useDispatch();\n//   useEffect(() => {\n//     dispatch(detailsProduct(props.match.params.id));\n//     return () => {};\n//   }, []);\n//   return (\n//     <div>\n//       <div className=\"store-backlink\">\n//         <Link to=\"/store\" className=\"store-backlink\">\n//           Back to LTBT STORE\n//         </Link>\n//       </div>\n//       {loading ? (\n//         <div>Loading...</div>\n//       ) : error ? (\n//         <div>{error}</div>\n//       ) : (\n//         <div className=\"product-details-container\">\n//           <div className=\"product-details-image\">\n//             <img src={product.image} alt=\"ltbt merch\" />\n//           </div>\n//           <div className=\"product-details-info\">\n//             <h1 className=\"product-details-name\">{product.name}</h1>\n//             <h5 className=\"product-details-price\">$ {product.price}</h5>\n//             <p className=\"product-details-description\">{product.description}</p>\n//           </div>\n//           <div className=\"product-action\">\n//             <div className=\"product-qty\">\n//               QTY:{\" \"}\n//               <select>\n//                 <option>1</option>\n//                 <option>2</option>\n//                 <option>3</option>\n//                 <option>4</option>\n//               </select>\n//             </div>\n//             <button className=\"product-cart-button\">ADD TO CART</button>\n//           </div>\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductPage\");","map":{"version":3,"sources":["D:/PROJECTS/ltbt-podcast/frontend/src/components/ProductPage.jsx"],"names":["productData","useParams","Link","useSelector","useDispatch","useEffect","useReducer","axios","detailsProduct","reducer","state","action","type","loading","products","payload","error","ProductPage","props","params","slug","product","dispatch","fetchData","result","get","data","err","message","console","log","name"],"mappings":"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","sourcesContent":["import \"../styles/Product.scss\";\r\nimport { productData } from \"../data/data\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useEffect, useReducer } from \"react\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { detailsProduct } from \"../actions/productActions\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_REQUEST\":\r\n      return { ...state, loading: true };\r\n    case \"FETCH_SUCCESS\":\r\n      return { ...state, products: action.payload, loading: false };\r\n    case \"FETCH_FAIL\":\r\n      return { ...state, loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nfunction ProductPage(props) {\r\n  const params = useParams();\r\n  const { slug } = params;\r\n\r\n  const [{ loading, error, product }, dispatch] = useReducer(reducer, {\r\n    products: [],\r\n    loading: true,\r\n    error: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      dispatch({ type: \"FETCH_REQUEST\" });\r\n      try {\r\n        const result = await axios.get(`/api/store/slug/${slug}`);\r\n        dispatch({ type: \"FETCH_SUCCESS\", payload: result.data });\r\n      } catch (err) {\r\n        dispatch({ type: \"FETCH_FAIL\", payload: err.message });\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [slug]);\r\n\r\n  console.log(params);\r\n  return loading ? (\r\n    <div>Loading...</div>\r\n  ) : error ? (\r\n    <div>{error}</div>\r\n  ) : (\r\n    <div>{product.name}</div>\r\n  );\r\n}\r\n\r\nexport default ProductPage;\r\n\r\n//use this hook to get product id\r\n// const { id } = useParams();\r\n\r\n//if product id matches id from useParams hook, return product info\r\n// const product = productData.products.find(\r\n//   (productId) => productId.id === Number(id)\r\n// );\r\n\r\n//OLD CODE\r\n//   console.log(\"-----\", props.match.params.id);\r\n//   const productDetails = useSelector((state) => state.productDetails);\r\n//   const { product, loading, error } = productDetails;\r\n//   const dispatch = useDispatch();\r\n\r\n//   useEffect(() => {\r\n//     dispatch(detailsProduct(props.match.params.id));\r\n\r\n//     return () => {};\r\n//   }, []);\r\n\r\n//   return (\r\n//     <div>\r\n//       <div className=\"store-backlink\">\r\n//         <Link to=\"/store\" className=\"store-backlink\">\r\n//           Back to LTBT STORE\r\n//         </Link>\r\n//       </div>\r\n//       {loading ? (\r\n//         <div>Loading...</div>\r\n//       ) : error ? (\r\n//         <div>{error}</div>\r\n//       ) : (\r\n//         <div className=\"product-details-container\">\r\n//           <div className=\"product-details-image\">\r\n//             <img src={product.image} alt=\"ltbt merch\" />\r\n//           </div>\r\n//           <div className=\"product-details-info\">\r\n//             <h1 className=\"product-details-name\">{product.name}</h1>\r\n//             <h5 className=\"product-details-price\">$ {product.price}</h5>\r\n//             <p className=\"product-details-description\">{product.description}</p>\r\n//           </div>\r\n//           <div className=\"product-action\">\r\n//             <div className=\"product-qty\">\r\n//               QTY:{\" \"}\r\n//               <select>\r\n//                 <option>1</option>\r\n//                 <option>2</option>\r\n//                 <option>3</option>\r\n//                 <option>4</option>\r\n//               </select>\r\n//             </div>\r\n//             <button className=\"product-cart-button\">ADD TO CART</button>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}